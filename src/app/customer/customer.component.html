<div class="container">
    <br>
    <div class="col-md-6">
      <div class="card-header">
         Customer Form
      </div>
      <div class="card-body">
       <form  (ngSubmit)="save()" novalidate [formGroup]="customerForm">
           <div class="form-group">
            <div class="col-md-12">
                <label>Name</label>
                <input type="text" 
                       class="form-control"  
                       formControlName="Name"  
                       [ngClass]="{'is-invalid':  ((customerForm.get('Name')?.touched ||
                                                   customerForm.get('Name')?.dirty) &&
                                                  !customerForm.get('Name')?.valid) }" />
                      <span class="invalid-feedback">
                       <span *ngIf="customerForm.get('Name')?.errors?.required">
                         Please enter your name.
                       </span>
                       <span *ngIf="customerForm.get('Name')?.errors?.minlength">
                         The name must be longer than 3 characters.
                       </span>
                     </span>
             </div>
           </div>


           <div class="form-group">
            <div class="col-md-12">
                <label>Email</label>
                <input type="text" 
                       class="form-control"  
                       formControlName="Email"  
                       [ngClass]="{'is-invalid': (customerForm.get('Email')?.touched ||
                                                  customerForm.get('Email')?.dirty) &&
                                                 !customerForm.get('Email')?.valid }" />
                      <span class="invalid-feedback">
                       <span *ngIf="customerForm.get('Email')?.errors?.required">
                         Please enter your email.
                       </span>
                       <span *ngIf="customerForm.get('Email')?.errors?.email">
                        Please enter your email in correct format
                       </span>
                     </span>
             </div>
           </div>

           <div class="form-group">

            <div class="col-md-12">
                <label >Location </label>
                <br>
                <div class="form-check-inline" *ngFor="let location of locations">
                   <input class="form-check-input" 
                          type="radio" 
                          value="{{ location }}" 
                          formControlName="Location"
                         > 
                          {{ location }}
                </div>
                      <span class="invalid-feedback">
                       <span *ngIf="customerForm.get('Name')?.errors?.required">
                         Please enter your name.
                       </span>
                       <span *ngIf="customerForm.get('Name')?.errors?.minlength">
                         The name must be longer than 3 characters.
                       </span>
                     </span>
             </div>
           </div>

           <br>
           <br>

           <div class="col-md-12">
             <button class="btn btn-success" [disabled]="customerForm.invalid">Click</button>
           </div>

       </form>
      </div>
    </div>
    <div class="col-md-6">
        <div>
          <table  class="table" >
            <thead>
              <tr>
                <td>Name</td>
                <td>Email</td>
                <td>Location</td>
              </tr>
            </thead>
            <tbody *ngFor="let cust of listOfCustomers">
              <tr>
                  <td>{{ cust.Name }}</td>
                  <td>{{ cust.Email }}</td>
                  <td>{{ cust.Location }}</td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>

<br>Dirty: {{ customerForm.dirty }}
<br>Touched: {{ customerForm.touched }}
<br>Valid: {{ customerForm.valid }}
<br>Value: {{ customerForm.value | json }}
</div>
